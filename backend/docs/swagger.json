{
    "swagger": "2.0",
    "info": {
        "description": "これはサロン顧客管理用APIです。",
        "title": "Salon App API",
        "contact": {},
        "version": "1.0"
    },
    "host": "localhost:8080",
    "basePath": "/api/v1",
    "paths": {
        "/course": {
            "get": {
                "description": "コース一覧",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "system"
                ],
                "summary": "コース一覧",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/salon-app_backend_internal_model.Course"
                        }
                    }
                }
            },
            "put": {
                "description": "コース一覧",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "system"
                ],
                "summary": "コース一覧",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/salon-app_backend_internal_model.Course"
                        }
                    }
                }
            }
        },
        "/course-registration": {
            "post": {
                "description": "コース登録",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "system"
                ],
                "summary": "コース登録",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/course/:id": {
            "put": {
                "description": "コース更新",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "system"
                ],
                "summary": "コース更新",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/salon-app_backend_internal_model.Course"
                        }
                    }
                }
            }
        },
        "/course/{id}": {
            "delete": {
                "description": "指定したIDのコースを論理削除します",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "course"
                ],
                "summary": "コース削除",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Course ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/customer": {
            "get": {
                "description": "顧客一覧取得",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "system"
                ],
                "summary": "顧客一覧",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/salon-app_backend_internal_model.Customer"
                        }
                    }
                }
            }
        },
        "/customer-registration": {
            "post": {
                "description": "顧客登録",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "system"
                ],
                "summary": "顧客登録",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/customer-search": {
            "get": {
                "description": "顧客検索(苗字：ひらがな)",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "system"
                ],
                "summary": "顧客検索(苗字：ひらがな)",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/salon-app_backend_internal_model.Customer"
                        }
                    }
                }
            }
        },
        "/customer/:id": {
            "put": {
                "description": "顧客更新",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "system"
                ],
                "summary": "顧客更新",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/salon-app_backend_internal_model.Customer"
                        }
                    }
                }
            }
        },
        "/login": {
            "post": {
                "description": "ログイン",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "system"
                ],
                "summary": "ログイン",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/ping": {
            "get": {
                "description": "サーバーの生存確認用",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "system"
                ],
                "summary": "疎通確認",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/signup": {
            "post": {
                "description": "新規登録",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "system"
                ],
                "summary": "新規登録",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/store": {
            "get": {
                "description": "店舗一覧",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "system"
                ],
                "summary": "店舗一覧",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/store-registration": {
            "post": {
                "description": "店舗登録",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "system"
                ],
                "summary": "店舗登録",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/ticket": {
            "get": {
                "description": "チケット一覧",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "system"
                ],
                "summary": "チケット一覧",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/ticket/:id": {
            "put": {
                "description": "チケット更新",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "system"
                ],
                "summary": "チケット更新",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/salon-app_backend_internal_model.Ticket"
                        }
                    }
                }
            }
        },
        "/users": {
            "get": {
                "description": "スタッフ一覧取得",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "system"
                ],
                "summary": "スタッフ一覧 (ユーザー一覧)",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/salon-app_backend_internal_model.User"
                        }
                    }
                }
            }
        },
        "/users/:id": {
            "put": {
                "description": "スタッフ更新",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "system"
                ],
                "summary": "スタッフ更新",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/salon-app_backend_internal_model.User"
                        }
                    }
                }
            }
        },
        "/visit": {
            "get": {
                "description": "来店履歴一覧取得",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "system"
                ],
                "summary": "来店履歴一覧",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/salon-app_backend_internal_model.Visit"
                        }
                    }
                }
            }
        },
        "/visit-registration": {
            "post": {
                "description": "来店登録",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "system"
                ],
                "summary": "来店登録",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/visit/:id": {
            "put": {
                "description": "来店履歴更新",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "system"
                ],
                "summary": "来店履歴更新",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/salon-app_backend_internal_model.Visit"
                        }
                    }
                }
            }
        },
        "/visit/search": {
            "get": {
                "description": "来店履歴検索",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "system"
                ],
                "summary": "来店履歴検索",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/salon-app_backend_internal_model.Visit"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "gorm.DeletedAt": {
            "type": "object",
            "properties": {
                "time": {
                    "type": "string"
                },
                "valid": {
                    "description": "Valid is true if Time is not NULL",
                    "type": "boolean"
                }
            }
        },
        "salon-app_backend_internal_model.Course": {
            "type": "object",
            "properties": {
                "createdAt": {
                    "type": "string"
                },
                "deletedAt": {
                    "$ref": "#/definitions/gorm.DeletedAt"
                },
                "id": {
                    "type": "integer"
                },
                "name": {
                    "description": "コース名称 (例: \"全身脱毛 5回パック\", \"カット\")",
                    "type": "string"
                },
                "price": {
                    "description": "販売価格 (税込み/税抜きは運用に合わせる)",
                    "type": "integer"
                },
                "store": {
                    "description": "店舗情報へのリレーション",
                    "allOf": [
                        {
                            "$ref": "#/definitions/salon-app_backend_internal_model.Store"
                        }
                    ]
                },
                "store_id": {
                    "description": "所属店舗ID。多店舗展開時に使用",
                    "type": "integer"
                },
                "total_count": {
                    "description": "規定回数。単発は1、回数券は5や10などを設定",
                    "type": "integer"
                },
                "updatedAt": {
                    "type": "string"
                }
            }
        },
        "salon-app_backend_internal_model.Customer": {
            "type": "object",
            "properties": {
                "address1": {
                    "description": "市区町村・町域",
                    "type": "string"
                },
                "address2": {
                    "description": "ビル・マンション名",
                    "type": "string"
                },
                "birth_date": {
                    "description": "日付型がおすすめ",
                    "type": "string"
                },
                "createdAt": {
                    "type": "string"
                },
                "deletedAt": {
                    "$ref": "#/definitions/gorm.DeletedAt"
                },
                "first_name": {
                    "type": "string"
                },
                "first_name_kana": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "last_name": {
                    "description": "名前（フリガナ含め分けているのはGood!）",
                    "type": "string"
                },
                "last_name_kana": {
                    "type": "string"
                },
                "phone": {
                    "description": "uintからstringへ変更",
                    "type": "string"
                },
                "pref_name": {
                    "description": "文字列で持つパターン",
                    "type": "string"
                },
                "sex": {
                    "description": "属性情報",
                    "type": "string"
                },
                "store": {
                    "$ref": "#/definitions/salon-app_backend_internal_model.Store"
                },
                "store_id": {
                    "description": "店舗紐付け",
                    "type": "integer"
                },
                "updatedAt": {
                    "type": "string"
                },
                "zip_code": {
                    "description": "住所（ポストくん構成）",
                    "type": "string"
                }
            }
        },
        "salon-app_backend_internal_model.Store": {
            "type": "object",
            "properties": {
                "createdAt": {
                    "type": "string"
                },
                "deletedAt": {
                    "$ref": "#/definitions/gorm.DeletedAt"
                },
                "id": {
                    "type": "integer"
                },
                "name": {
                    "description": "店舗名",
                    "type": "string"
                },
                "updatedAt": {
                    "type": "string"
                }
            }
        },
        "salon-app_backend_internal_model.Ticket": {
            "type": "object",
            "properties": {
                "course": {
                    "$ref": "#/definitions/salon-app_backend_internal_model.Course"
                },
                "course_id": {
                    "description": "どのコースのチケットか",
                    "type": "integer"
                },
                "createdAt": {
                    "type": "string"
                },
                "current_count": {
                    "description": "現在までに消化した回数 (来店ごとにインクリメント)",
                    "type": "integer"
                },
                "customer": {
                    "description": "リレーション",
                    "allOf": [
                        {
                            "$ref": "#/definitions/salon-app_backend_internal_model.Customer"
                        }
                    ]
                },
                "customer_id": {
                    "description": "購入した顧客のID",
                    "type": "integer"
                },
                "deletedAt": {
                    "$ref": "#/definitions/gorm.DeletedAt"
                },
                "id": {
                    "type": "integer"
                },
                "is_completed": {
                    "description": "全回数を使い切ったかどうかのフラグ",
                    "type": "boolean"
                },
                "store_id": {
                    "description": "購入・発行した店舗のID",
                    "type": "integer"
                },
                "total_count": {
                    "description": "購入時の最大回数 (Courseマスタからコピー)",
                    "type": "integer"
                },
                "updatedAt": {
                    "type": "string"
                }
            }
        },
        "salon-app_backend_internal_model.User": {
            "type": "object",
            "properties": {
                "createdAt": {
                    "type": "string"
                },
                "deletedAt": {
                    "$ref": "#/definitions/gorm.DeletedAt"
                },
                "email": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "name": {
                    "type": "string"
                },
                "role": {
                    "description": "権限（例: admin, staff, customer）",
                    "type": "string"
                },
                "store": {
                    "description": "外部から呼び出し",
                    "allOf": [
                        {
                            "$ref": "#/definitions/salon-app_backend_internal_model.Store"
                        }
                    ]
                },
                "store_id": {
                    "type": "integer"
                },
                "updatedAt": {
                    "type": "string"
                }
            }
        },
        "salon-app_backend_internal_model.Visit": {
            "type": "object",
            "properties": {
                "course": {
                    "$ref": "#/definitions/salon-app_backend_internal_model.Course"
                },
                "course_id": {
                    "description": "今回実施したコースのID",
                    "type": "integer"
                },
                "createdAt": {
                    "type": "string"
                },
                "customer": {
                    "description": "リレーション",
                    "allOf": [
                        {
                            "$ref": "#/definitions/salon-app_backend_internal_model.Customer"
                        }
                    ]
                },
                "customer_id": {
                    "description": "来店した顧客のID",
                    "type": "integer"
                },
                "deletedAt": {
                    "$ref": "#/definitions/gorm.DeletedAt"
                },
                "id": {
                    "type": "integer"
                },
                "memo": {
                    "description": "施術内容や顧客の反応などのメモ",
                    "type": "string"
                },
                "store_id": {
                    "description": "来店した店舗のID",
                    "type": "integer"
                },
                "ticket": {
                    "$ref": "#/definitions/salon-app_backend_internal_model.Ticket"
                },
                "ticket_id": {
                    "description": "TicketID:\n回数券利用の場合はTicketIDを保存。単発(その場で支払い)の場合は null。\nポインタ(*uint)にすることで、DB上でNULLを許容する。",
                    "type": "integer"
                },
                "updatedAt": {
                    "type": "string"
                },
                "visit_count": {
                    "description": "VisitCount:\nこの来店がそのチケットにとって「何回目」だったかをスナップショットとして記録。\nチケット残数計算の履歴の整合性を保つために保持。",
                    "type": "integer"
                }
            }
        }
    }
}